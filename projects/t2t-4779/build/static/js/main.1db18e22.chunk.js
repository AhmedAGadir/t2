(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{63:function(e,t){},71:function(e,t,n){e.exports=n(91)},76:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(7),o=n.n(i),c=(n(76),n(15)),l=n(17),u=n(14),d=n(55),s={CREATE_NEW_VIEW:"CREATE_NEW_VIEW",DESTROY_VIEW:"DESTROY_VIEW",CREATE_NEW_TAB:"CREATE_NEW_TAB",DESTROY_TAB:"DESTROY_TAB",ADD_NEW_VIEW:"ADD_NEW_VIEW",REMOVE_VIEW:"REMOVE_VIEW",CHANGE_VIEW_NAME:"CHANGE_VIEW_NAME",CHANGE_VIEW:"CHANGE_VIEW",ADD_NEW_TAB:"ADD_NEW_TAB",CHANGE_TAB_NAME:"CHANGE_TAB_NAME",SET_TAB_INDEX:"SET_TAB_INDEX",SET_CURRENT_VIEW_INFO_TO_NULL:"SET_CURRENT_VIEW_INFO_TO_NULL",SET_GRID_DATA:"SET_GRID_DATA",FETCH_GRID_DATA:"FETCH_GRID_DATA",SAVE_GRID_SORT_MODEL:"SAVE_GRID_SORT_MODEL",SAVE_GRID_FILTER_MODEL:"SAVE_GRID_FILTER_MODEL",SAVE_GRID_COLUMN_STATE:"SAVE_GRID_COLUMN_STATE",SAVE_GRID_COLUMN_GROUP_STATE:"SAVE_GRID_COLUMN_GROUP_STATE",SAVE_GRID_PIVOT_MODE_STATE:"SAVE_GRID_PIVOT_MODE_STATE",SAVE_STORE_STATE_TO_LOCAL_STORAGE:"SAVE_STORE_STATE_TO_LOCAL_STORAGE",RESTORE_STORE_STATE_TO_LOCAL_STORAGE:"RESTORE_STORE_STATE_TO_LOCAL_STORAGE",SET_GRID_FETCH_AGAIN_TO_FALSE:"SET_GRID_FETCH_AGAIN_TO_FALSE",SET_ROW_SELECTION_SYNC_STATUS:"SET_ROW_SELECTION_SYNC_STATUS"},E=n(6);function f(e){var t,n,r;return(null===e||void 0===e?void 0:null===(t=e.allViews[null===e||void 0===e?void 0:null===(n=e.currentViewInfo)||void 0===n?void 0:n.index])||void 0===t?void 0:t.allGrids)?null===e||void 0===e?void 0:e.allViews[null===e||void 0===e?void 0:null===(r=e.currentViewInfo)||void 0===r?void 0:r.index].allGrids:[]}function _(e){var t=e.currentViewInfo,n=null===t||void 0===t?void 0:t.index,r=null===e||void 0===e?void 0:e.allViews[n];return(null===r||void 0===r?void 0:r.tabIndex)?r.tabIndex:0}function T(e){return e.currentViewInfo?e.allViews[e.currentViewInfo.index]:null}function S(e,t){var n=e.allViews.findIndex(function(e){return e.id===t}),r=e.allViews[n];if(r)return r;throw new Error("VIEW NOT FOUND!!")}function v(e,t,n){var r=S(e,t),a=r.allGrids.findIndex(function(e){return e.id===n}),i=r.allGrids[a];if(i)return i;throw new Error("GRID NOT FOUND!!")}function w(e,t){for(var n,r=e.allViews,a=0;a<r.length;a++){var i=r[a].allGrids;if("object"===typeof grid)break;for(var o=0;o<i.length;o++){var c=i[o];if(c.id===t){n=c;break}}}if(n)return n;new Error(" GRID NOT FOUND << < << ")}n(81);var A,O=n(56),I=window.localStorage.getItem("cache");if(I){var m=JSON.parse(I);A=Object(l.a)({},m)}else A=Object(l.a)({},JSON.parse('{"currentViewInfo":{"id":"Thu Jun 04 2020 08:01:54 GMT+0100 (British Summer Time)2","index":0},"allViews":[{"id":"Thu Jun 04 2020 08:01:54 GMT+0100 (British Summer Time)2","tabIndex":0,"allGrids":[{"id":"Thu Jun 04 2020 08:01:54 GMT+0100 (British Summer Time)0","columnDefs":[{"field":"athlete"},{"field":"age"},{"field":"country"},{"field":"year"},{"field":"date"},{"field":"sport"},{"field":"gold"},{"field":"silver"},{"field":"bronze"},{"field":"total"}],"url":"https://raw.githubusercontent.com/ag-grid/ag-grid/master/grid-packages/ag-grid-docs/src/olympicWinnersSmall.json","sortModel":[],"fetchAgain":true,"name":"Tab 1"},{"id":"Thu Jun 04 2020 08:01:55 GMT+0100 (British Summer Time)3","columnDefs":[{"field":"athlete"},{"field":"age"},{"field":"country"},{"field":"year"},{"field":"date"},{"field":"sport"},{"field":"gold"},{"field":"silver"},{"field":"bronze"},{"field":"total"}],"url":"https://raw.githubusercontent.com/ag-grid/ag-grid/master/grid-packages/ag-grid-docs/src/olympicWinnersSmall.json","fetchAgain":true,"name":"Tab 2"}],"rowSelectionSyncStatus":"SYNC_DONE","name":"View A"},{"id":"Thu Jun 04 2020 08:01:56 GMT+0100 (British Summer Time)4","tabIndex":0,"allGrids":[{"id":"Thu Jun 04 2020 08:02:08 GMT+0100 (British Summer Time)5","columnDefs":[{"field":"athlete"},{"field":"age"},{"field":"country"},{"field":"year"},{"field":"date"},{"field":"sport"},{"field":"gold"},{"field":"silver"},{"field":"bronze"},{"field":"total"}],"url":"https://raw.githubusercontent.com/ag-grid/ag-grid/master/grid-packages/ag-grid-docs/src/olympicWinnersSmall.json","fetchAgain":true}],"rowSelectionSyncStatus":"SYNC_DONE","name":"View B"}]}'));var p=Object(u.createStore)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case s.ADD_NEW_VIEW:return function(e,t){return Object(E.a)(e,function(e){var n={id:t,allGrids:[]};e.allViews.push(n)})}(e,n);case s.REMOVE_VIEW:return function(e,t){return Object(E.a)(e,function(e){var n=function(e,t){var n=e.allViews.findIndex(function(e){return e.id===t});if(n>-1)return n;throw new Error("VIEW INDEX NOT FOUND!!")}(e,t);e.allViews.splice(n,1)})}(e,n);case s.CHANGE_VIEW:return function(e,t){return Object(E.a)(e,function(e){var n=e.allViews.findIndex(function(e){return e.id===t}),r={id:t,index:n};e.currentViewInfo=r})}(e,n);case s.CHANGE_VIEW_NAME:return function(e,t){var n=t.viewId,r=t.newName;return Object(E.a)(e,function(e){var t=S(e,n);t.name=r})}(e,n);case s.ADD_NEW_TAB:return function(e,t){return Object(E.a)(e,function(e){var n=f(e);n.push(t)})}(e,n);case s.CHANGE_TAB_NAME:return function(e,t){var n=t.viewId,r=t.gridId,a=t.newName;return Object(E.a)(e,function(e){var t=v(e,n,r);t.name=a})}(e,n);case s.SET_TAB_INDEX:return function(e,t){return Object(E.a)(e,function(e){var n=e.allViews[e.currentViewInfo.index];n.tabIndex=t})}(e,n);case s.SET_CURRENT_VIEW_INFO_TO_NULL:return function(e){return Object(E.a)(e,function(e){e.currentViewInfo=null})}(e);case s.SET_GRID_DATA:return function(e,t){var n=t.viewId,r=t.gridId,a=t.newData;return Object(E.a)(e,function(e){var t=v(e,n,r);t.rowData=a})}(e,n);case s.SAVE_GRID_SORT_MODEL:return function(e,t){var n=t.gridId,r=t.sortModel;return Object(E.a)(e,function(e){var t=w(e,n);t.sortModel=r})}(e,n);case s.SAVE_GRID_FILTER_MODEL:return function(e,t){var n=t.gridId,r=t.filterModel;return Object(E.a)(e,function(e){var t=w(e,n);t.filterModel=r})}(e,n);case s.SAVE_GRID_COLUMN_STATE:return function(e,t){var n=t.gridId,r=t.columnState;return Object(E.a)(e,function(e){var t=w(e,n);t&&(t.columnState=r)})}(e,n);case s.SAVE_GRID_COLUMN_GROUP_STATE:return function(e,t){var n=t.gridId,r=t.columnGroupState;return Object(E.a)(e,function(e){var t=w(e,n);t&&(t.columnGroupState=r)})}(e,n);case s.SAVE_GRID_PIVOT_MODE_STATE:return function(e,t){var n=t.gridId,r=t.isPivotMode;return Object(E.a)(e,function(e){var t=w(e,n);t.isPivotMode=r})}(e,n);case s.SAVE_STORE_STATE_TO_LOCAL_STORAGE:return function(e){var t={currentViewInfo:e.currentViewInfo,allViews:[]};e.allViews.forEach(function(e){var n={id:e.id,tabIndex:e.tabIndex,allGrids:[],rowSelectionSyncStatus:null===e||void 0===e?void 0:e.rowSelectionSyncStatus,name:e.name};e.allGrids.forEach(function(e){var t=e.id,r=e.columnDefs,a=e.url,i=e.sortModel,o=e.filterModel,c=e.columnState,l=e.columnGroupState,u=e.isPivotMode,d=e.name,s={id:t,columnDefs:r,url:a,sortModel:i,filterModel:o,columnState:c,columnGroupState:l,fetchAgain:!0,isPivotMode:u,name:d};n.allGrids.push(s)}),t.allViews.push(n)});var n=JSON.stringify(t);return localStorage.setItem("cache",n),e}(e);case s.RESTORE_STORE_STATE_TO_LOCAL_STORAGE:return JSON.parse(localStorage.getItem("cache"));case s.SET_GRID_FETCH_AGAIN_TO_FALSE:return function(e,t){var n=t.viewId,r=t.gridId;return Object(E.a)(e,function(e){var t=v(e,n,r);t.fetchAgain=!1})}(e,n);case s.DESTROY_TAB:return function(e,t){return Object(E.a)(e,function(e){var n=f(e);n.splice(t,1)})}(e,n);case s.SET_ROW_SELECTION_SYNC_STATUS:return function(e,t){var n=t.viewId,r=t.status;return Object(E.a)(e,function(e){var t=S(e,n);t.rowSelectionSyncStatus=r})}(e,n);default:return e}},A,Object(d.composeWithDevTools)(Object(u.applyMiddleware)(O.a)));var V=n(20),N=n(21),g=n(24),h=n(22),D=0;function R(){return new Date+""+D++}var b={createNewView:function(){return function(e,t){var n=R();e(b.addNewView(n)),e(b.changeView(n))}},createNewTab:function(e){return function(t,n){var r=null!==n().currentViewInfo;if(e.id=R(),!r){var a=R();t(b.createNewView(a))}t(b.addNewTab(e));var i=f(p.getState()).length-1,o=p.getState().currentViewInfo.id;t(b.setTabIndex(i)),t(b.fetchGridData(o,e.id,e.url))}},destroyView:function(e){return function(t,n){var r=n().currentViewInfo.id,a=r===e,i=1===n().allViews.length;if(t(b.removeView(e)),i)t(b.setCurrentViewInfoToNull());else if(!a||i)i||a||t(b.changeView(r));else{var o=n().allViews,c=o[o.length-1];t(b.changeView(c.id))}}},fetchGridData:function(e,t,n){return function(r){fetch(n).then(function(n){return n.json().then(function(n){r(b.fetchGridDataSuccess(e,t,n))})}).catch(function(e){r(b.fetchGridDataFail(e))})}},fetchGridDataSuccess:function(e,t,n){return function(r){r(b.setGridData(e,t,n)),r(b.setGridFetchAgainToFalse(e,t))}},fetchGridDataFail:function(e){new Error(e," <<<< FETCH GRID DATA FAIL")},changeTab:function(e){return function(t,n){var r=n(),a=r.currentViewInfo.index,i=r.allViews[a],o=r.currentViewInfo.id,c=i.allGrids[e],l=c.id,u=c.url,d=c.fetchAgain;t(b.setTabIndex(e)),d&&t(b.fetchGridData(o,l,u))}},destroyTab:function(e){return function(t,n){t({type:s.DESTROY_TAB,payload:e});var r=n().currentViewInfo.index,a=n().allViews[r],i=a.tabIndex,o=a.allGrids;if(!o[i]){var c=o.length-1;-1!==c&&t(b.changeTab(c))}}},addNewView:function(e){return{type:s.ADD_NEW_VIEW,payload:e}},changeTabName:function(e,t,n){return{type:s.CHANGE_TAB_NAME,payload:{viewId:e,gridId:t,newName:n}}},removeView:function(e){return{type:s.REMOVE_VIEW,payload:e}},changeViewName:function(e,t){return{type:s.CHANGE_VIEW_NAME,payload:{viewId:e,newName:t}}},changeView:function(e){return{type:s.CHANGE_VIEW,payload:e}},addNewTab:function(e){return{type:s.ADD_NEW_TAB,payload:e}},setTabIndex:function(e){return{type:s.SET_TAB_INDEX,payload:e}},setCurrentViewInfoToNull:function(){return{type:s.SET_CURRENT_VIEW_INFO_TO_NULL}},setGridData:function(e,t,n){return{type:s.SET_GRID_DATA,payload:{viewId:e,gridId:t,newData:n}}},saveGridSortModel:function(e,t){return{type:s.SAVE_GRID_SORT_MODEL,payload:{gridId:e,sortModel:t}}},saveGridFilterModel:function(e,t){return{type:s.SAVE_GRID_FILTER_MODEL,payload:{gridId:e,filterModel:t}}},saveGridColumnState:function(e,t){return{type:s.SAVE_GRID_COLUMN_STATE,payload:{gridId:e,columnState:t}}},saveGridColumnGroupState:function(e,t){return{type:s.SAVE_GRID_COLUMN_GROUP_STATE,payload:{gridId:e,columnGroupState:t}}},saveGridPivotModeState:function(e,t){return{type:s.SAVE_GRID_PIVOT_MODE_STATE,payload:{gridId:e,isPivotMode:t}}},saveStoreStateToLocalStorage:function(){return{type:s.SAVE_STORE_STATE_TO_LOCAL_STORAGE}},restoreStoreStateToLocalStorage:function(){return{type:s.RESTORE_STORE_STATE_TO_LOCAL_STORAGE}},setGridFetchAgainToFalse:function(e,t){return{type:s.SET_GRID_FETCH_AGAIN_TO_FALSE,payload:{viewId:e,gridId:t}}},setRowSelectionSyncStatus:function(e,t){return{type:s.SET_ROW_SELECTION_SYNC_STATUS,payload:{viewId:e,status:t}}}},G=n(57),y=(n(87),n(88),n(41)),C=n(32),L=n(62),M=n.n(L),j=n(110),W=function(e){Object(g.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(V.a)(this,n),(r=t.call(this,e)).props=e,r.state={viewName:r.props.data.viewName?r.props.data.viewName:"New View",styles:{backgroundColor:"rgba(0,0,0,0)"}},r.btnRef=a.a.createRef(),r.onDeleteView=r.onDeleteView.bind(Object(C.a)(r)),r}return Object(N.a)(n,[{key:"onDeleteView",value:function(e){document.activeElement.blur(),e.stopPropagation();var t=this.props.data.viewId;this.props.destroyView(t)}},{key:"componentDidMount",value:function(){this.btnRef.current.addEventListener("click",this.onDeleteView)}},{key:"componentWillUnmount",value:function(){this.btnRef.current.removeEventListener("click",this.onDeleteView)}},{key:"changeBackgroundColor",value:function(e){this.setState(Object(l.a)(Object(l.a)({},this.state),{},{styles:Object(l.a)(Object(l.a)({},this.state.styles),{},{backgroundColor:e})}))}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement(j.a,{color:"primary",variant:"contained",onMouseEnter:function(){e.changeBackgroundColor("rgba(255,255,255,0.7)")},onMouseLeave:function(){e.changeBackgroundColor("rgba(0,0,0,0)")},style:{backgroundColor:this.state.styles.backgroundColor,marginRight:"10px"},ref:this.btnRef,"aria-label":"delete"},a.a.createElement(M.a,{color:"primary",fontSize:"small"})),this.state.viewName)}}]),n}(r.Component);y.LicenseManager.setLicenseKey("For_Trialing_ag-Grid_Only-Not_For_Real_Development_Or_Production_Projects-Valid_Until-17_July_2021_[v2]_MTYyNjQ3NjQwMDAwMA==4d753d1acc8045a402b8037d53b9abc9\n");var k=function(e){Object(g.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(V.a)(this,n),(r=t.call(this,e)).frameworkComponents={viewCellRenderer:W},r.columnDefs=[{field:"viewName",headerName:"Name",filter:!0,sortable:!0,flex:1,editable:!0,onCellValueChanged:function(e){r.props.actions.changeViewName(e.data.viewId,e.newValue)},valueGetter:function(e){return e.data.viewName?e.data.viewName:"New View"},cellRenderer:"viewCellRenderer",cellRendererParams:{destroyView:r.props.actions.destroyView}}],r}return Object(N.a)(n,[{key:"syncRowSelection",value:function(e){var t,n=this.props.currentViewInfo,r=null===(t=this.props.currentView)||void 0===t?void 0:t.rowSelectionSyncStatus,a=this.gridApi.getRowNode(null===n||void 0===n?void 0:n.id),i=null===a||void 0===a?void 0:a.selected;"SYNCING"===r||i||void 0===a||null===n||(this.props.actions.setRowSelectionSyncStatus(n.id,"SYNCING"),a.setSelected(!0),this.props.actions.setRowSelectionSyncStatus(n.id,"SYNC_DONE"))}},{key:"componentDidUpdate",value:function(e){this.syncRowSelection(e)}},{key:"onFirstDataRendered",value:function(e){var t,n,r=this.gridApi.getRowNode(null===(t=this.props)||void 0===t?void 0:null===(n=t.currentView)||void 0===n?void 0:n.id);r&&r.setSelected(!0)}},{key:"onRowSelected",value:function(e){var t;"SYNCING"!==(null===(t=this.props.currentView)||void 0===t?void 0:t.rowSelectionSyncStatus)&&(e.node.selected&&this.props.actions.changeView(e.node.id))}},{key:"onGridReady",value:function(e){this.gridApi=e.api,this.columnApi=e.columnApi}},{key:"render",value:function(){return this.rowData=this.props.allViews.map(function(e){return{viewId:e.id,viewName:e.name}}),a.a.createElement("div",{className:"ag-theme-alpine  ".concat(this.props.className)},a.a.createElement(G.AgGridReact,{overlayNoRowsTemplate:'<span style="padding: 10px; border: 2px solid #444; background: lightgoldenrodyellow;"> There are no views available. Add a new view</span>',rowSelection:"single",rowData:this.rowData,columnDefs:this.columnDefs,onGridReady:this.onGridReady.bind(this),onFirstDataRendered:this.onFirstDataRendered.bind(this),onRowSelected:this.onRowSelected.bind(this),frameworkComponents:this.frameworkComponents,getRowNodeId:function(e){return e.viewId},rowHeight:60,popupParent:document.body}))}}]),n}(a.a.PureComponent),F=Object(c.b)(function(e){return{allViews:e.allViews,currentViewInfo:e.currentViewInfo,currentView:T(e)}},function(e){return{actions:Object(u.bindActionCreators)(b,e)}})(k),x=n(63),U=n.n(x),B=n(113),H="https://raw.githubusercontent.com/ag-grid/ag-grid/master/grid-packages/ag-grid-docs/src/olympicWinnersSmall.json",P=[{field:"athlete"},{field:"age"},{field:"country"},{field:"year"},{field:"date"},{field:"sport"},{field:"gold"},{field:"silver"},{field:"bronze"},{field:"total"}];var Y=n(65),J=n(115),z=n(116);function X(e){return a.a.createElement(z.a,Object.assign({elevation:6,variant:"filled"},e))}function Q(){var e=Object(c.c)(),t=a.a.useState(!1),n=Object(Y.a)(t,2),r=n[0],i=n[1],o=function(e,t){"clickaway"!==t&&i(!1)};return a.a.createElement("div",null,a.a.createElement(B.a,{onClick:function(){e(b.saveStoreStateToLocalStorage()),i(!0)},className:"action-btn",variant:"outlined",color:"primary",size:"large"},"SAVE STATE TO LOCAL STORAGE"),a.a.createElement(J.a,{anchorOrigin:{vertical:"top",horizontal:"left"},open:r,autoHideDuration:1500,onClose:o},a.a.createElement(X,{onClose:o,severity:"success"},"State saved to local storage!")))}var K=a.a.memo(function(e){var t=Object(c.c)();function n(){var e={url:H,columnDefs:P};t(b.createNewTab(e))}return a.a.createElement("div",{className:"action-btn-container"},a.a.createElement(B.a,{className:"action-btn",onClick:function(){return t(b.createNewView())},variant:"outlined",color:"primary",size:"large"},"ADD NEW VIEW"),a.a.createElement(B.a,{className:"action-btn",onClick:function(){return n()},variant:"outlined",color:"primary",size:"large"},"ADD NEW TAB"),a.a.createElement(Q,null),a.a.createElement(B.a,{onClick:function(){return localStorage.clear()},className:"action-btn",variant:"outlined",color:"primary",size:"large"},"CLEAR LOCAL STORAGE"))}),q=function(e){Object(g.a)(n,e);var t=Object(h.a)(n);function n(){return Object(V.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"main-container"},a.a.createElement(K,null),a.a.createElement("div",{className:"flex-container"},a.a.createElement(F,{className:"all-views"}),a.a.createElement(U.a,{className:"tabs-view"})))}}]),n}(r.Component),Z=Object(c.b)(function(e){return{allViews:e.allViews,currentViewInfo:e.currentViewInfo,currentViewTabIndex:_(e)}},function(e){return{actions:Object(u.bindActionCreators)(b,e)}})(q),$=n(114),ee=n(64),te=Object(ee.a)({});o.a.render(a.a.createElement(c.a,{store:p},a.a.createElement($.a,{theme:te},a.a.createElement(Z,null))),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.1db18e22.chunk.js.map